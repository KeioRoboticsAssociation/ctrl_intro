[ホームに戻る](./C_index_cppplus.md)
[次のページへ](./C01_func_default.md)→

# 関数のプロトタイプ宣言

この記事では、関数のプロトタイプ宣言について説明します。簡単に言えば、**関数の存在だけ先に宣言して、実装を後回しにする**書き方です

## 復習：普通の関数の書き方

プロトタイプ宣言と比較するため、普通の関数の書き方を復習しておきます。

```cpp
#include <iostream>
using namespace std;

int func(int arg){
    return 2*arg;
}

int main(){
    int a = 0;
    a = func(2);
    cout<<a<<endl;
    return 0;
}
```

このコードでは、引数の2倍を返す関数funcがあり、その後のmain関数で使われています。**関数が有効なのは宣言した後**なので、main関数内で使う場合はmain関数より前に書いておく必要があります。

## 関数が増えてくると...
ロボットのプログラムでは、非常に多くの関数を実装することになります。でも、増えすぎるとちょっとした問題が起きてきます。以下のコードを見てみてください。

```cpp
#include <iostream>
using namespace std;

void func1(int arg1){
    //関数１
}
void func2(int arg2){
    //関数2
}
void func3(int arg3){
    //関数3
}
/*
以下略・関数がいっぱい（100行くらい）
*/

int main(){
    int a = 0;
    a = func1(2);
    cout<<a<<endl;
    return 0;
}

```

main関数がプログラムの一番最後に書かれています。通常、**関数はあくまで"機能"で、具体的な制御ルーチンはmain関数内に書きます**。ということは、先程のプログラムは、**一番後ろまでスクロールしないとプログラムの流れがわからない構成**にってしまっています。自分しか使わないならともかく、チームで共有することを考えると、少し見通しが悪いですね。<br>
これを解消するのが**プロトタイプ宣言**です。

## プロトタイプ宣言
では、プロトタイプ宣言の例として、冒頭の「引数の２倍を返す関数」をプロトタイプ宣言を用いて書き換えてみましょう。

```cpp
#include<iostream>
using namespace std;

int func(int arg);//2倍にする関数
// int func(int); <-これでもOK

int main(){
    int a = 0;
    a = func(2);
    cout<<a<<endl;
    return 0;    
}

int func(int arg){//funcの実装部
    return 2*arg;
}

```
4行目の`int func(int arg)`がプロトタイプ宣言です。これは**関数の宣言のみを行う**書き方です。
**実装を後回しにすることで、main関数にすばやくたどり着けます**。プロトタイプ宣言は、関数一覧みたいな役割も果たせるので、プログラムの可読性が高まります。<br>

## プロトタイプ宣言の書き方
非常に単純で、以下のような形式で書きます。
```
返り値の型　関数名(引数の型　引数名(省略可))
```
関数の波括弧より前の部分を書いて、セミコロンをつければOKです。また、引数の型は書く必要がありますが、引数の名前は書いても書かなくてもOKです。

## まとめ
プロトタイプ宣言の書き方について紹介しました。これを用いることで、**関数を多用するコードを読みやすくできます**。ぜひ使ってみてください。
次の記事では、関数の引数にデフォルト値を設定する方法を紹介します。

[次のページへ](./C01_func_default.md)→
