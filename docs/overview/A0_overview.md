# A0. 制御班の概要
ようこそ制御班へ！ロボット制御に興味を持ってくれてありがとうございます。
この記事では制御班の活動の概要について紹介します。

## 制御班の役割
ロ技研では、機構班・電装班・制御班の３つの班に分かれて活動しています。

制御班の役割は、**ロボットを動かすプログラムの作成**です。

機構班と電装班が作り上げた**ロボットの潜在能力を最大限生かして賢い動きをさせるのが制御班の目標**と言えます。ロボットの最終スペックを決めるので責任重大ですが、その分やりがいと達成感もあると思います。

もちろん、機構班も電装班もチームで決めた作戦を実行できるようにロボットを設計・製作するので、認識にずれができないよう**頻繁かつ綿密に**コミュニケーションを取りましょう。制御班は家でも作業できるのが良い所ではありますが、**引きこもりは厳禁です**。


## ロボットの仕組みと制御の流れ
ロボットは、（制御班の視点では）主に４つの機能から成り立ちます。
1. アクチュエータ（駆動部）：モーターやシリンダーなど
2. センサー：ロボットと壁の間の距離などを電圧や電流に変換
3. マイコン：ロボットの頭脳部で、**ピン**と呼ばれる端子から電圧を出力・入力ができる。
4. 回路：マイコンとアクチュエータ・センサーを適切に仲介

ということで、制御班として作成するプログラムは、大まかに以下のような処理を繰り返し行います。
1. センサーから得たデータを処理してロボットや周囲の状態を把握する。
2. 現在の状態とチームで決めた作戦から次の動きを決定する。
3. やりたい動きを実現するための各モーター（やシリンダー）の動きを決定する
4. 回路に電気信号を送る（ここは場合によっては電装班が担当）。

ロボットや処理の種類にもよりますが、大体0.1秒～0.005秒周期でこれらを計算します。
計算が間に合わないほど高速にすると動かないので、程よく高速化しましょう。
## ロボコンで身に付く/身につけたい知識
1. C/C++でのプログラミング<br>
マイコンへのプログラムはC言語やC++で書くのが基本です。
一般にほかの言語より難しいとされていますが、逆に言えば、これさえ**マスターすればほかの言語はかなり容易に習得できます**。また、個人的な意見ですが、プログラミングをするという意味では **「難解」というより「注意力が必要」**という感じなので、余り身構える必要はないと思います。

2. 簡単な機構・電装の知識<br>
ロボットは**機構・電装・制御が全て機能して初めて動作する**ので、この３班の連携は不可欠です。
相互にコミュニケーションをとるにあたって、互いに何を言っているのかわからないとどうにもなりません。
とはいえ、このサークルではほとんどの人がロボット製作初心者なので、ロボットを作りながら**互いに聞きあう・教えあう**ことが大事です。

以降はF3RC終了後でも大丈夫です。<br>

3. 制御工学（特に古典制御論）<br>
制御工学とは、系（ロ技研の場合は主にモーター）を**精度よく制御する**ための方法を考える学問です。
古典制御論の成果である**PID制御**は、精密なモーター制御に不可欠な技術となっています。
機械工学科・システムデザイン工学科の人は２年の必修の授業で学ぶことになりますが、先取りしても良いでしょう。
（制御工学の授業はなかなか難解なので、予習しておくといいことあります）

4. Python<br>
Pythonは最近流行のプログラミング言語のひとつです。**書きやすく・機能が豊富で・読みやすい**と三拍子そろっていて、ロボコンにおいては**画像処理・行列計算・機械学習**などで用いられることがあります。
一方、高機能の代償としてあまり実行速度が速くないので、機械制御のプログラムを全てPythonで書くのは現実的ではないです。

5. ROS2<br>
ROS2（"Robot Operating System 2"）は、より高度なロボット制御を行うためのオープンソース（無料）のフレームワーク（プログラムの機能群）です。**NHK学生ロボコンで使用しています**。マイコンにPCを接続して、より複雑かつ高速な制御を可能にします。言語はC++とPythonに対応しています。

6. その他<br>
ロ技研の技術力は発展途上です。現在も外部ツールに頼っている部分も多くあります。
特にMatlabやAI等の利用は全く未開拓なので、誰かが開拓を進めてここに追記してくれることを祈っています。

